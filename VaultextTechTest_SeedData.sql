USE [VaultexTechTest]
GO

insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Bill', 'Schweiz');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Bob', 'Anderson');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Chad', 'Leiker');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Erica', 'Black');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Francine', 'Morrison');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'George', 'Dow');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Ian', 'Benson');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Jack', 'Malone');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Kyle', 'Good');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Mark', 'Gunter');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Mitch', 'Krause');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Nicole', 'Lane');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Phil', 'Dingman');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Raja', 'Dejesus');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Scott', 'Simpson');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Steve', 'Lundeen');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Timothy', 'Frazier');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00002065', 'Xenos', 'Mathis');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00014259', 'Gil', 'Duncan');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00014259', 'Kato', 'Delgado');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00014259', 'Layla', 'Barr');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00014259', 'Lionel', 'Espinoza');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00014259', 'Lisa', 'Nielsen');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00014259', 'Nancy', 'Mcclain');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00014259', 'Todd', 'Wright');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00014259', 'Troy', 'Mccoy');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Alfonso', 'Hopkins');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Arsenio', 'Jensen');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Carlos', 'Clarke');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Ciaran', 'Newton');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Colt', 'Rowland');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Devin', 'Russell');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Dolan', 'Mercado');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Elmo', 'Douglas');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Helen', 'Guthrie');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Hiram', 'Carrillo');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Hiram', 'Vega');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Ida', 'Watts');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Jennifer', 'Coleman');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'John', 'Rose');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Kane', 'Rice');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '00966425', 'Otto', 'Gibbs');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Darren', 'Tillbrooke');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Frank', 'Bloswick');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Jackie', 'Jones');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Janet', 'Smith');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Kathy', 'Bodwin');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Kathy', 'Summerfield');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Mike', 'St. Onge');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Rene', 'Hughey');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Richard', 'LaPine');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Robert', 'Rogers');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Stephanie', 'Holsinger');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), '09740322', 'Tonya', 'Bazinaw');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC001111', 'Chancellor', 'Warner');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC001111', 'Davis', 'Wolf');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC001111', 'Gennifer', 'Vance');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC095237', 'Avram', 'Pate');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC095237', 'Cullen', 'Riddle');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC095237', 'Gil', 'Duncan');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC095237', 'Hammett', 'Coffey');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC095237', 'Hasad', 'Wise');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC095237', 'Kato', 'Delgado');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC095237', 'Lionel', 'Espinoza');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC095237', 'Todd', 'Wright');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC095237', 'Troy', 'Mccoy');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC095237', 'Victor', 'Merrill');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC327000', 'Brandon', 'Stanley');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC327000', 'Honorato', 'Montgomery');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC327000', 'Jarrod', 'Randolph');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC327000', 'Josiah', 'Gates');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC327000', 'Kassie', 'Chaney');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC327000', 'Kennedy', 'Nunez');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC327000', 'Lamar', 'Harrison');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC327000', 'Lance', 'Knox');
insert into dbo.employees(ID, OrganisationNumber, FirstName, LastName) values (newid(), 'SC327000', 'Lewis', 'Sanchez');

insert into dbo.organisations(ID, OrganisationName, OrganisationNumber, AddressLine1, AddressLine2, AddressLine3, AddressLine4, Town, Postcode) values (newid(), 'Barclays UK PLC','09740322','1 Churchill Place','','','','London','E14 5HP');
insert into dbo.organisations(ID, OrganisationName, OrganisationNumber, AddressLine1, AddressLine2, AddressLine3, AddressLine4, Town, Postcode) values (newid(), 'HSBC BANK PLC','00014259','8 Canada Square','','','','London','E14 5HQ');
insert into dbo.organisations(ID, OrganisationName, OrganisationNumber, AddressLine1, AddressLine2, AddressLine3, AddressLine4, Town, Postcode) values (newid(), 'LLOYDS BANK PLC','00002065','25 Gresham Street','','','','London','EC2V 7HN');
insert into dbo.organisations(ID, OrganisationName, OrganisationNumber, AddressLine1, AddressLine2, AddressLine3, AddressLine4, Town, Postcode) values (newid(), 'TSB BANK PLC','SC095237','Henry Duncan House','120 George Street','','','Edinburgh','EH2 4LH');
insert into dbo.organisations(ID, OrganisationName, OrganisationNumber, AddressLine1, AddressLine2, AddressLine3, AddressLine4, Town, Postcode) values (newid(), 'CLYDESDALE BANK PLC','SC001111','30 St Vincent Place','','','','Glasgow','G1 2HL');
insert into dbo.organisations(ID, OrganisationName, OrganisationNumber, AddressLine1, AddressLine2, AddressLine3, AddressLine4, Town, Postcode) values (newid(), 'STANDARD CHARTERED PLC','00966425','1 Basinghall Avenue','','','','London','EC2V 5DD');
insert into dbo.organisations(ID, OrganisationName, OrganisationNumber, AddressLine1, AddressLine2, AddressLine3, AddressLine4, Town, Postcode) values (newid(), 'BANK OF SCOTLAND PLC','SC327000','The Mound','','','','Edinburgh','EH1 1YZ');


select top 5 * from dbo.Employees;
select top 5 * from dbo.Organisations;


update dbo.Employees set OrganisationID = o.id
from dbo.Employees as e join dbo.Organisations as o on o.OrganisationNumber = e.OrganisationNumber
where e.OrganisationID is null;

delete from dbo.Employees where OrganisationNumber is null;
delete from dbo.Organisations where OrganisationNumber is null;

-- EF Core Notes
-- =============
-- PM> add-migration init <-- Note init is just a label could be anything eg newrelationship.
-- PM> scrit-migration
-- PM> update-database -verbose <-- one of the optional params.
-- PM> Scaffold-DBContext [-Connection] <String> [-Provider] <String> ......eg (see below)
-- PM> Scaffold-DBContext -provider Microsoft.EntityFrameworkCore.SqlServer -connection "Server=localhost\\sqlexpress;Database=VaultexTechTest;Trusted_Connection=True;"


/*
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
GO
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200328181511_init', N'3.1.3');
GO
*/